PROJECT_STRUCTURE_AST
src
  app.c
    fn
      __app_removed_noop(_)
  console
    console.c
      fn
        console_info(*fmt)
        console_error(*fmt)
        console_warn(*fmt)
        console_box_too_small_for_game(term_w,term_h,min_w,min_h)
        console_box_paused_terminal_small(term_w,term_h,req_w,req_h)
        console_terminal_resized(w,h)
        console_game_ran(ticks)
  core
    collision.c
      fn
        collision_is_wall(p,board_w,board_h)
        collision_is_self(p,*player)
        collision_is_snake(p,*player)
        collision_next_head(current,dir)
        collision_detect_and_resolve(*game)
    game.c
      fn
        game_init(*game,width,height,*cfg)
        game_free(*game)
        game_tick(*game)
        game_set_food(*game,*food,count)
        game_state_reset(*game)
        game_state_get_num_players(*game)
        game_state_player_is_active(*game,player_index)
        game_state_player_current_score(*game,player_index)
        game_state_player_died_this_tick(*game,player_index)
        game_state_player_score_at_death(*game,player_index)
        game_destroy(*g)
        game_enqueue_input(*g,player_index,*in)
        game_step(*g,*out_events)
        game_get_num_players(*g)
        game_player_is_active(*g,player_index)
        game_player_current_score(*g,player_index)
        game_player_died_this_tick(*g,player_index)
        game_player_score_at_death(*g,player_index)
        game_test_set_dimensions(*g,width,height)
        game_test_set_food(*g,*food,count)
        game_test_set_num_players(*g,n)
        game_test_set_player_needs_reset(*g,player_index,needs)
        random_point(*game)
        point_in_player(*player,p)
        point_in_any_snake(*game,p)
        point_is_food(*game,p)
        food_respawn(*game)
        player_move(*player,next_head,grow)
        opposite_dir(dir)
        spawn_player(*game,player_index)
        game_reset(*g)
      st
        Game{state}
  input
    input.c
      fn
        ascii_tolower(c)
        restore_terminal(_)
        input_init(_)
        input_shutdown(_)
        parse_arrow_key(code)
        input_poll(*out)
        input_poll_from_buf(*out,*buf,n)
        input_set_key_bindings(up,down,turn_left,turn_right,quit,restart,pause_toggle)
      st
        termios
  net
    net.c
      fn
        net_pack_input(*input,*buf,buf_size)
        net_unpack_input(*buf,buf_size,*out)
        net_pack_game_state(*game,*buf,buf_size)
        net_unpack_game_state(*buf,buf_size,*out)
        net_free_unpacked_game_state(*out)
        net_disconnect(*client)
        net_send_input(*client,*input)
        net_recv_state(*client,*out_game)
      st
        NetClient{unused}
  persist
    persist.c
      fn
        clamp_int(v,lo,hi)
        highscore_destroy(*hs)
        highscore_get_score(*hs)
        highscore_set_name(*hs,*name)
        highscore_set_score(*hs,score)
        game_config_destroy(*cfg)
        game_config_set_board_size(*cfg,w,h)
        game_config_get_board_size(*cfg,*w_out,*h_out)
        game_config_set_tick_rate_ms(*cfg,ms)
        game_config_get_tick_rate_ms(*cfg)
        game_config_set_screen_size(*cfg,w,h)
        game_config_get_screen_size(*cfg,*w_out,*h_out)
        game_config_set_seed(*cfg,seed)
        game_config_get_seed(*cfg)
        game_config_set_fov_degrees(*cfg,fov)
        game_config_get_fov_degrees(*cfg)
        game_config_set_player_name(*cfg,*name)
        game_config_set_render_glyphs(*cfg,v)
        game_config_get_render_glyphs(*cfg)
        game_config_set_show_sprite_debug(*cfg,v)
        game_config_get_show_sprite_debug(*cfg)
        game_config_set_num_players(*cfg,n)
        game_config_get_num_players(*cfg)
        game_config_set_max_players(*cfg,n)
        game_config_get_max_players(*cfg)
        game_config_set_max_length(*cfg,v)
        game_config_get_max_length(*cfg)
        game_config_set_max_food(*cfg,v)
        game_config_get_max_food(*cfg)
        game_config_set_wall_height_scale(*cfg,v)
        game_config_get_wall_height_scale(*cfg)
        game_config_set_tail_height_scale(*cfg,v)
        game_config_get_tail_height_scale(*cfg)
        game_config_set_wall_texture_scale(*cfg,v)
        game_config_get_wall_texture_scale(*cfg)
        game_config_set_floor_texture_scale(*cfg,v)
        game_config_get_floor_texture_scale(*cfg)
        game_config_set_wall_texture(*cfg,*path)
        game_config_set_floor_texture(*cfg,*path)
        game_config_set_key_up(*cfg,c)
        game_config_get_key_up(*cfg)
        game_config_set_key_down(*cfg,c)
        game_config_get_key_down(*cfg)
        game_config_set_key_left(*cfg,c)
        game_config_get_key_left(*cfg)
        game_config_set_key_right(*cfg,c)
        game_config_get_key_right(*cfg)
        game_config_set_key_quit(*cfg,c)
        game_config_get_key_quit(*cfg)
        game_config_set_key_restart(*cfg,c)
        game_config_get_key_restart(*cfg)
        game_config_set_key_pause(*cfg,c)
        game_config_get_key_pause(*cfg)
        game_config_set_enable_external_3d_view(*cfg,v)
        game_config_get_enable_external_3d_view(*cfg)
        game_config_set_active_player(*cfg,v)
        game_config_get_active_player(*cfg)
        persist_read_scores(*filename,*out_scores)
        persist_write_scores(*filename,*scores,count)
        compare_scores(*a,*b)
        persist_append_score(*filename,*name,score)
        persist_free_scores(*scores,count)
        persist_load_config(*filename,*out_config)
        persist_write_config(*filename,*config)
        is_known_config_key(*key)
        persist_config_has_unknown_keys(*filename)
      st
        HighScore{PERSIST_NAME_MAX,score}
        GameConfig{board_width,tick_rate_ms,render_glyphs,screen_width,enable_external_3d_view,seed,fov_degrees,show_sprite_debug,active_player,num_players,PERSIST_PLAYER_NAME_MAX,max_players,max_length,max_food,wall_height_scale,tail_height_scale,wall_texture_scale,floor_texture_scale,PERSIST_TEXTURE_PATH_MAX,PERSIST_TEXTURE_PATH_MAX,key_up,key_down,key_left,key_right,key_quit,key_restart,key_pause}
  platform
    platform.c
      fn
        platform_now_ms(_)
        platform_sleep_ms(ms)
        platform_sigwinch_handler(sig)
        platform_get_terminal_size(*width_out,*height_out)
        platform_winch_init(_)
        platform_was_resized(_)
    tty.c
      fn
        sigwinch_handler(sig)
        tty_set_test_size(width,height)
        tty_clear_test_size(_)
        tty_simulate_winch(_)
        utf16_to_utf8(utf16,*utf8_out)
        utf16_surrogate_pair_to_utf8(high,low,*out)
        ascii_pixel_equal(a,b)
        get_terminal_size(fd,*width,*height)
        tty_close(*ctx)
        tty_put_pixel(*ctx,x,y,px)
        tty_get_pixel(*ctx,x,y)
        tty_clear_back(*ctx)
        tty_clear_front(*ctx)
        tty_flip(*ctx)
        tty_force_redraw(*ctx)
        tty_get_size(*ctx,*width,*height)
        tty_check_resize(*ctx)
        tty_set_resize_callback(*ctx,*callback,*userdata)
        tty_set_size_invalid_callback(*ctx,*callback,*userdata)
        tty_size_valid(*ctx)
        tty_get_min_size(*ctx,*min_width,*min_height)
        tty_get_board_min_size(board_width,board_height,*min_width,*min_height)
        tty_size_sufficient_for_board(term_width,term_height,board_width,board_height)
      st
        tty_context{tty_fd,orig_termios,tty_path,width,height,min_width,min_height,*front,*back,dirty,size_valid,*write_buffer,write_buffer_size,resized,*on_resize,*on_size_invalid,*callback_userdata}
        ascii_pixel
  render
    camera.c
      fn
        normalize_angle(angle)
        angle_difference(from,to)
        interpolate_angle(from,to,t)
        update_vectors(*camera)
        camera_destroy(*camera)
        camera_init(*camera,fov_degrees,screen_width,update_interval)
        camera_set_from_player(*camera,x,y,dir)
        camera_update_vectors(*camera)
        camera_update_interpolation(*camera,delta_time)
        camera_set_interpolation_time(*camera,time)
        camera_set_position(*cam,x,y)
        camera_set_angle(*cam,angle)
        camera_set_prev_position(*cam,prev_x,prev_y)
        camera_set_prev_angle(*cam,prev_angle)
        camera_set_update_interval(*cam,update_interval)
        camera_get_fov_radians(*cam)
        camera_get_dir(*cam,*dx_out,*dy_out)
        camera_get_update_interval(*cam)
        camera_get_interpolation_fraction(*cam)
        camera_get_interp_time(*cam)
        camera_get_position(*cam,*x_out,*y_out)
        camera_get_ray_angle(*camera,col,*ray_angle_out)
        camera_world_to_camera(*camera,world_x,world_y,*cam_x_out,*cam_y_out)
        camera_camera_to_world(*camera,cam_x,cam_y,*world_x_out,*world_y_out)
        camera_distance_to_point(*camera,x,y)
        camera_point_in_front(*camera,x,y)
        camera_get_interpolated_position(*camera,*x_out,*y_out)
        camera_get_interpolated_angle(*camera)
      st
        Camera3D{x,angle,prev_x,fov_radians,screen_width,dir_x,plane_x,interp_time,update_interval}
    display_3d.c
      fn
        display_3d_destroy(*disp)
        display_3d_get_width(*disp)
        display_3d_get_height(*disp)
        display_3d_init(*disp,width,height)
        display_3d_clear(*disp,ch,color)
        display_3d_draw_column(*disp,col,start_row,end_row,ch,color)
        display_3d_draw_cell(*disp,x,y,ch,color)
        display_3d_draw_row(*disp,row,start_col,end_col,ch,color)
        display_3d_present(*disp)
        display_3d_shutdown(*disp)
      st
        Display3D{width,height,*buffer}
    display_tty.c
      fn
        map_color(display_color)
        display_shutdown(*ctx)
        display_get_size(*ctx,*width,*height)
        display_size_valid(*ctx)
        display_clear(*ctx)
        display_put_char(*ctx,x,y,ch,fg,bg)
        display_put_string(*ctx,x,y,*str,fg,bg)
        display_put_hline(*ctx,x,y,len,ch,fg,bg)
        display_put_vline(*ctx,x,y,len,ch,fg,bg)
        display_present(*ctx)
        display_force_redraw(*ctx)
      st
        DisplayContext{*tty}
    projection.c
      fn
        projection_destroy(*proj)
        projection_init(*proj,screen_width,screen_height,fov_radians,wall_scale)
        projection_project_wall(*proj,distance,*result_out)
        projection_world_distance_per_pixel(*proj,distance)
        projection_set_horizon(*proj,horizon_y)
        projection_project_wall_perp(*proj,distance,ray_angle,cam_angle,*out)
        projection_world_distance_per_pixel_perp(*proj,distance,ray_angle,cam_angle)
        projection_get_screen_width(*proj)
        projection_get_screen_height(*proj)
        projection_get_fov_radians(*proj)
        projection_get_wall_scale(*proj)
      st
        Projection3D{screen_width,screen_height,fov_radians,horizon_y,wall_scale}
    raycast.c
      fn
        raycaster_destroy(*rc)
        raycast_init(*rc,width,height,*board)
        raycast_cast_ray(*rc,camera_x,camera_y,ray_angle,*hit_out)
        raycast_is_wall(*rc,x,y)
        raycast_get_texture_coord(*hit,is_vertical)
      st
        Raycaster3D{board_width,board_height,*board}
    render.c
      fn
        render_set_glyphs(glyphs)
        is_session_score_from_display(*s)
        is_session_score(*s)
        gradient_color_for_rank(rank,total)
        compare_display_scores_desc(*a,*b)
        render_init(min_width,min_height)
        render_shutdown(_)
        render_note_session_score(*name,score)
        draw_box(x,y,width,height,fg_color)
        draw_string(x,y,*str,fg_color)
        draw_centered_string(y,*str,fg_color)
        draw_top_bar(_)
        invalidate_front_buffer(*ctx)
        fill_background(_)
        links_to_neighbor(from,neighbor)
        glyph_for_segment_utf8(*body,length,idx)
        glyph_for_segment_ascii(*body,length,idx)
        glyph_for_segment(*body,length,idx)
        render_draw(*game,*player_name,*scores,score_count)
        render_draw_startup_screen(*player_name_out,max_len)
        render_prompt_for_highscore_name(*player_name_out,max_len,score)
        fill_rect(x,y,width,height,fg_color,bg_color,ch)
        render_draw_death_overlay(*game,anim_frame,show_prompt)
      st
        <anon>{PERSIST_NAME_MAX,score}
        <anon>{up,down,left,right}
      ty
        DisplayScore
        SegmentLinks
    render_3d.c
      fn
        render_3d_draw_char(*disp,x,y,c,col,scale)
        render_3d_log(*fmt)
        render_3d_draw_minimap(*r,interp_t)
        render_3d_draw_minimap_into(*ctx,*gs)
        render_3d_update_fps(delta_seconds)
        render_3d_draw_fps_counter(_)
        render_3d_draw_text_centered(*disp,y,*text,col,scale)
        render_3d_draw_death_overlay(*game,anim_frame,show_prompt)
        render_3d_draw_congrats_overlay(score,*name_entered)
        render_3d_compute_minimap_cell_px(d_w,d_h,m_w,m_h)
        render_3d_init(*game_state,*config)
        render_3d_draw(*game_state,*player_name,*scores,score_count,delta_seconds)
        render_3d_set_active_player(player_index)
        render_3d_set_fov(fov_degrees)
        render_3d_on_tick(*game_state)
        render_3d_set_tick_rate_ms(ms)
        render_3d_shutdown(_)
      st
        <anon>{*game_state,*camera,*raycaster,*projector,*texture,*wall_texture,*floor_texture,*sprite_renderer,*display,config,initialized,*column_depths,frame_times,frame_time_idx,current_fps}
        SDL3DContext
      ty
        RenderMode
        Render3DContext
    render_3d_sdl.c
      fn
        call_lsan_disable(_)
        call_lsan_enable(_)
        render_3d_sdl_destroy(*ctx)
        render_3d_sdl_get_width(*ctx)
        render_3d_sdl_get_height(*ctx)
        render_3d_sdl_init(width,height,*ctx_out)
        render_3d_sdl_shutdown(*ctx)
        render_3d_sdl_set_pixel(*ctx,x,y,col)
        render_3d_sdl_blend_pixel(*ctx,x,y,src_col)
        render_3d_sdl_draw_column(*ctx,x,y_start,y_end,col)
        render_3d_sdl_draw_filled_circle(*ctx,center_x,center_y,radius,col)
        render_3d_sdl_draw_filled_rect(*ctx,x,y,w_rect,h_rect,col)
        render_3d_sdl_clear(*ctx,col)
        render_3d_sdl_present(*ctx)
      st
        <anon>{*window,*renderer,*texture,width,height}
        SDL3DContext{width,height,*pixels,*window,*renderer,*texture,initialized}
      ty
        SDLState
    sprite.c
      fn
        camera_get_interpolated_angle(*camera)
        camera_get_interpolated_position(*camera,*x_out,*y_out)
        projection_project_wall_perp(*proj,distance,ray_angle,cam_angle,*result_out)
        render_3d_sdl_draw_column(*ctx,x,y0,y1,col)
        sprite_init(*sr,max_sprites,*camera,*proj)
        sprite_clear(*sr)
        sprite_add(*sr,world_x,world_y,world_height,pivot,face_camera,texture_id,frame)
        sprite_add_color(*sr,world_x,world_y,world_height,pivot,face_camera,texture_id,frame,color)
        sprite_add_rect_color(*sr,world_x,world_y,world_height,pivot,face_camera,texture_id,frame,color)
        sprite_project_all(*sr)
        sprite_sort_by_depth(*sr)
        sprite_draw(*sr,*ctx,*column_depths)
        sprite_shutdown(*sr)
        sprite_destroy(*sr)
        sprite_get_count(*sr)
        sprite_get_screen_info(*sr,idx,*screen_x_out,*screen_h_out,*visible_out)
        sprite_get_texture_id(*sr,idx,*texture_id_out)
      st
        Sprite3D{world_x,world_height,pivot,face_camera,texture_id,frame,color,perp_distance,screen_x,screen_w,screen_h,screen_y_top,visible,is_rect}
        SpriteRenderer3D{*sprites,max_sprites,count,*camera,*proj}
    texture.c
      fn
        texture_destroy(*tex)
        texture_get_img_w(*tex)
        texture_get_img_h(*tex)
        texture_has_image(*tex)
        texture_init(*tex)
        texture_shade_from_distance(distance)
        texture_get_texel(*tex,distance,is_vertical,tex_coord,*texel_out)
        texture_set_shade_chars(*tex,*chars)
        texture_set_shade_colors(*tex,*colors)
        texture_load_from_file(*tex,*filename)
        texture_free_image(*tex)
        sample_nearest(*tex,u,v)
        sample_bilinear(*tex,u,v)
        texture_sample(*tex,u,v,bilinear)
      st
        Texture3D{TEXTURE_MAX_SHADES,TEXTURE_MAX_SHADES,*pixels,img_w,img_h}
    wall_perspective.c
      fn
        render_3d_compute_wall_u(interp_cam_x,interp_cam_y,ray_angle,yy,horizon,screen_height,pd,is_vertical,wall_world_height,*out_rowDist)
  snakegame.c
    fn
      snake_game_run(*s)
      snake_game_free(*s)
    st
      SnakeGame{*cfg,*game,has_3d}
  utils
    bounds.c
      fn
        snake_in_bounds(x,y,width,height)
    direction.c
      fn
        snake_dir_turn_left(d)
        snake_dir_turn_right(d)
    rng.c
      fn
        snake_rng_seed(*state,seed)
        snake_rng_next_u32(*state)
        snake_rng_range(*state,lo,hi_inclusive)
    utils.c
  vendor
    stb_image.c
      fn
        read_be_u32(*p)
        stbi_image_free(*retval_from_stbi_load)
    stb_image.h
      fn
        stbi_image_free(*retval_from_stbi_load)
include
  snake
    app.h
    collision.h
      fn
        collision_is_wall(p,board_w,board_h)
        collision_is_self(p,*player)
        collision_is_snake(p,*player)
        collision_next_head(current,dir)
        collision_detect_and_resolve(*game)
      st
        PlayerState
        GameState
    console.h
      fn
        console_info(*fmt)
        console_error(*fmt)
        console_warn(*fmt)
        console_box_too_small_for_game(term_w,term_h,min_w,min_h)
        console_box_paused_terminal_small(term_w,term_h,req_w,req_h)
        console_terminal_resized(w,h)
        console_game_ran(ticks)
    direction.h
      fn
        snake_dir_turn_left(d)
        snake_dir_turn_right(d)
    display.h
      fn
        display_shutdown(*ctx)
        display_clear(*ctx)
        display_put_char(*ctx,x,y,ch,fg,bg)
        display_fill_rect(*ctx,x,y,w,h,ch,fg,bg)
        display_flush(*ctx)
        display_get_size(*ctx,*width,*height)
        display_size_valid(*ctx)
        display_put_string(*ctx,x,y,*str,fg,bg)
        display_draw_line_h(*ctx,x,y,len,ch,fg,bg)
        display_draw_line_v(*ctx,x,y,len,ch,fg,bg)
        display_put_hline(*ctx,x,y,len,ch,fg,bg)
        display_put_vline(*ctx,x,y,len,ch,fg,bg)
        display_present(*ctx)
        display_force_redraw(*ctx)
      st
        DisplayContext
      ty
        DisplayContext
    game.h
      fn
        game_destroy(*g)
        game_enqueue_input(*g,player_index,*in)
        game_step(*g,*out_events)
        game_get_num_players(*g)
        game_player_is_active(*g,player_index)
        game_player_current_score(*g,player_index)
        game_player_died_this_tick(*g,player_index)
        game_player_score_at_death(*g,player_index)
        game_reset(*g)
        game_test_set_dimensions(*g,width,height)
        game_test_set_num_players(*g,n)
        game_test_set_player_needs_reset(*g,player_index,needs)
        game_test_set_food(*g,*food,count)
      st
        Game
        <anon>{GAME_EVENTS_MAX_PLAYERS,GAME_EVENTS_MAX_PLAYERS,died_count,game_over,food_respawned}
        GameState
        PlayerState
      ty
        Game
        GameEvents
        GameState
        PlayerState
    game_internal.h
      fn
        game_init(*game,width,height,*cfg)
        game_free(*game)
        game_tick(*game)
        game_set_food(*game,*food,count)
      st
        PlayerState{current_dir,score,died_this_tick,score_at_death,*body,length,max_length,active,prev_head_x,prev_head_y,*prev_segment_x,*prev_segment_y}
        GameState{width,rng_state,status,num_players,max_players,*food,food_count,max_food,last_food_respawned,*players,max_length}
    input.h
      fn
        input_init(_)
        input_shutdown(_)
        input_poll(*out)
        input_poll_from_buf(*out,*buf,n)
        input_set_key_bindings(up,down,turn_left,turn_right,quit,restart,pause_toggle)
      st
        <anon>{quit,any_key,move_up,turn_left}
      ty
        InputState
    net.h
      fn
        net_disconnect(*client)
        net_send_input(*client,*input)
        net_recv_state(*client,*out_game)
        net_free_unpacked_game_state(*out)
        net_pack_input(*input,*buf,buf_size)
        net_unpack_input(*buf,buf_size,*out)
        net_pack_game_state(*game,*buf,buf_size)
        net_unpack_game_state(*buf,buf_size,*out)
      st
        NetClient
      ty
        NetClient
    persist.h
      fn
        highscore_destroy(*hs)
        highscore_get_score(*hs)
        highscore_set_name(*hs,*name)
        highscore_set_score(*hs,score)
        persist_read_scores(*filename,*out_scores)
        persist_write_scores(*filename,*scores,count)
        persist_append_score(*filename,*name,score)
        persist_free_scores(*scores,count)
        game_config_destroy(*cfg)
        game_config_set_board_size(*cfg,w,h)
        game_config_get_board_size(*cfg,*w_out,*h_out)
        game_config_set_tick_rate_ms(*cfg,ms)
        game_config_get_tick_rate_ms(*cfg)
        game_config_set_screen_size(*cfg,w,h)
        game_config_get_screen_size(*cfg,*w_out,*h_out)
        game_config_set_seed(*cfg,seed)
        game_config_get_seed(*cfg)
        game_config_set_fov_degrees(*cfg,fov)
        game_config_get_fov_degrees(*cfg)
        game_config_set_player_name(*cfg,*name)
        game_config_set_render_glyphs(*cfg,v)
        game_config_get_render_glyphs(*cfg)
        game_config_set_show_sprite_debug(*cfg,v)
        game_config_get_show_sprite_debug(*cfg)
        game_config_set_num_players(*cfg,n)
        game_config_get_num_players(*cfg)
        game_config_set_max_players(*cfg,n)
        game_config_get_max_players(*cfg)
        game_config_set_max_length(*cfg,v)
        game_config_get_max_length(*cfg)
        game_config_set_max_food(*cfg,v)
        game_config_get_max_food(*cfg)
        game_config_set_wall_height_scale(*cfg,v)
        game_config_get_wall_height_scale(*cfg)
        game_config_set_tail_height_scale(*cfg,v)
        game_config_get_tail_height_scale(*cfg)
        game_config_set_wall_texture(*cfg,*path)
        game_config_set_floor_texture(*cfg,*path)
        game_config_set_wall_texture_scale(*cfg,v)
        game_config_get_wall_texture_scale(*cfg)
        game_config_set_floor_texture_scale(*cfg,v)
        game_config_get_floor_texture_scale(*cfg)
        game_config_set_key_up(*cfg,c)
        game_config_get_key_up(*cfg)
        game_config_set_key_down(*cfg,c)
        game_config_get_key_down(*cfg)
        game_config_set_key_left(*cfg,c)
        game_config_get_key_left(*cfg)
        game_config_set_key_right(*cfg,c)
        game_config_get_key_right(*cfg)
        game_config_set_key_quit(*cfg,c)
        game_config_get_key_quit(*cfg)
        game_config_set_key_restart(*cfg,c)
        game_config_get_key_restart(*cfg)
        game_config_set_key_pause(*cfg,c)
        game_config_get_key_pause(*cfg)
        game_config_set_enable_external_3d_view(*cfg,v)
        game_config_get_enable_external_3d_view(*cfg)
        game_config_set_active_player(*cfg,v)
        game_config_get_active_player(*cfg)
        persist_load_config(*filename,*out_config)
        persist_write_config(*filename,*config)
        persist_config_has_unknown_keys(*filename)
      st
        HighScore
        GameConfig
      ty
        HighScore
        GameConfig
    platform.h
      fn
        platform_now_ms(_)
        platform_sleep_ms(ms)
        platform_get_terminal_size(*width_out,*height_out)
        platform_winch_init(_)
        platform_was_resized(_)
    render.h
      fn
        render_set_glyphs(glyphs)
        render_init(min_width,min_height)
        render_shutdown(_)
        render_draw(*game,*player_name,*scores,score_count)
        render_draw_startup_screen(*player_name_out,max_len)
        render_prompt_for_highscore_name(*player_name_out,max_len,score)
        render_note_session_score(*name,score)
        render_draw_death_overlay(*game,anim_frame,show_prompt)
      ty
        RenderGlyphs
    render_3d.h
      fn
        render_3d_init(*game_state,*config)
        render_3d_draw(*game_state,*player_name,*scores,score_count,delta_seconds)
        render_3d_on_tick(*game_state)
        render_3d_set_tick_rate_ms(ms)
        render_3d_set_active_player(player_index)
        render_3d_set_fov(fov_degrees)
        render_3d_shutdown(_)
        render_3d_draw_death_overlay(*game,anim_frame,show_prompt)
        render_3d_draw_congrats_overlay(score,*name_entered)
        render_3d_draw_minimap_into(*ctx,*gs)
        render_3d_compute_minimap_cell_px(display_w,display_h,map_w,map_h)
      st
        SDL3DContext
        <anon>{active_player,fov_degrees,show_sprite_debug,screen_width,screen_height,wall_height_scale,tail_height_scale,wall_texture_scale,floor_texture_scale,PERSIST_TEXTURE_PATH_MAX,PERSIST_TEXTURE_PATH_MAX}
      ty
        Render3DConfig
    render_3d_camera.h
      fn
        camera_destroy(*camera)
        camera_init(*camera,fov_degrees,screen_width,update_interval)
        camera_set_from_player(*camera,x,y,dir)
        camera_update_interpolation(*camera,delta_time)
        camera_set_interpolation_time(*camera,time)
        camera_get_ray_angle(*camera,col,*ray_angle_out)
        camera_world_to_camera(*camera,world_x,world_y,*cam_x_out,*cam_y_out)
        camera_camera_to_world(*camera,cam_x,cam_y,*world_x_out,*world_y_out)
        camera_distance_to_point(*camera,x,y)
        camera_point_in_front(*camera,x,y)
        camera_get_interpolated_position(*camera,*x_out,*y_out)
        camera_get_interpolated_angle(*camera)
        camera_update_vectors(*camera)
        camera_set_position(*cam,x,y)
        camera_set_angle(*cam,angle)
        camera_set_prev_position(*cam,prev_x,prev_y)
        camera_set_prev_angle(*cam,prev_angle)
        camera_set_update_interval(*cam,update_interval)
        camera_get_fov_radians(*cam)
        camera_get_dir(*cam,*dx_out,*dy_out)
        camera_get_update_interval(*cam)
        camera_get_interpolation_fraction(*cam)
        camera_get_interp_time(*cam)
        camera_get_position(*cam,*x_out,*y_out)
      st
        Camera3D
      ty
        Camera3D
    render_3d_display.h
      fn
        display_3d_destroy(*disp)
        display_3d_get_width(*disp)
        display_3d_get_height(*disp)
        display_3d_init(*disp,width,height)
        display_3d_clear(*disp,ch,color)
        display_3d_draw_column(*disp,col,start_row,end_row,ch,color)
        display_3d_draw_cell(*disp,x,y,ch,color)
        display_3d_draw_row(*disp,row,start_col,end_col,ch,color)
        display_3d_present(*disp)
        display_3d_shutdown(*disp)
      st
        <anon>{character,color}
        Display3D
      ty
        Framebuffer3DCell
        Display3D
    render_3d_perspective.h
      fn
        render_3d_compute_wall_u(interp_cam_x,interp_cam_y,ray_angle,yy,horizon,screen_height,pd,is_vertical,wall_world_height,*out_rowDist)
    render_3d_projection.h
      fn
        projection_destroy(*proj)
        projection_init(*proj,screen_width,screen_height,fov_radians,wall_scale)
        projection_project_wall(*proj,distance,*result_out)
        projection_world_distance_per_pixel(*proj,distance)
        projection_project_wall_perp(*proj,distance,ray_angle,cam_angle,*result_out)
        projection_world_distance_per_pixel_perp(*proj,distance,ray_angle,cam_angle)
        projection_set_horizon(*proj,horizon_y)
        projection_get_screen_width(*proj)
        projection_get_screen_height(*proj)
        projection_get_fov_radians(*proj)
        projection_get_wall_scale(*proj)
      st
        <anon>{draw_start,draw_end,wall_height,texture_scale}
        Projection3D
      ty
        WallProjection
        Projection3D
    render_3d_raycast.h
      fn
        raycaster_destroy(*rc)
        raycast_init(*rc,width,height,*board)
        raycast_cast_ray(*rc,camera_x,camera_y,ray_angle,*hit_out)
        raycast_is_wall(*rc,x,y)
        raycast_get_texture_coord(*hit,is_vertical)
      st
        <anon>{distance,hit_x,hit_y,is_vertical,shade_level}
        Raycaster3D
      ty
        RayHit
        Raycaster3D
    render_3d_sdl.h
      fn
        render_3d_sdl_destroy(*ctx)
        render_3d_sdl_get_width(*ctx)
        render_3d_sdl_get_height(*ctx)
        render_3d_sdl_init(width,height,*ctx_out)
        render_3d_sdl_shutdown(*ctx)
        render_3d_sdl_draw_column(*ctx,x,y_start,y_end,col)
        render_3d_sdl_clear(*ctx,col)
        render_3d_sdl_set_pixel(*ctx,x,y,col)
        render_3d_sdl_blend_pixel(*ctx,x,y,src_col)
        render_3d_sdl_draw_filled_circle(*ctx,center_x,center_y,radius,col)
        render_3d_sdl_draw_filled_rect(*ctx,x,y,w,h,col)
        render_3d_sdl_present(*ctx)
        render_3d_sdl_color(r,g,b,a)
      st
        SDL3DContext
      ty
        SDL3DContext
    render_3d_sprite.h
      fn
        sprite_destroy(*sr)
        sprite_init(*sr,max_sprites,*camera,*proj)
        sprite_clear(*sr)
        sprite_add(*sr,world_x,world_y,world_height,pivot,face_camera,texture_id,frame)
        sprite_add_color(*sr,world_x,world_y,world_height,pivot,face_camera,texture_id,frame,color)
        sprite_add_rect_color(*sr,world_x,world_y,world_height,pivot,face_camera,texture_id,frame,color)
        sprite_project_all(*sr)
        sprite_sort_by_depth(*sr)
        sprite_draw(*sr,*ctx,*column_depths)
        sprite_shutdown(*sr)
        sprite_get_screen_info(*sr,idx,*screen_x_out,*screen_h_out,*visible_out)
        sprite_get_count(*sr)
        sprite_get_texture_id(*sr,idx,*texture_id_out)
      st
        Sprite3D
        SpriteRenderer3D
      ty
        Sprite3D
        SpriteRenderer3D
    render_3d_sprite_internal.h
      st
        Sprite3D{world_x,world_height,pivot,face_camera,texture_id,frame,color,perp_distance,screen_x,screen_w,screen_h,screen_y_top,visible}
    render_3d_texture.h
      fn
        texture_destroy(*tex)
        texture_init(*tex)
        texture_shade_from_distance(distance)
        texture_get_texel(*tex,distance,is_vertical,tex_coord,*texel_out)
        texture_set_shade_chars(*tex,*chars)
        texture_set_shade_colors(*tex,*colors)
        texture_load_from_file(*tex,*filename)
        texture_free_image(*tex)
        texture_sample(*tex,u,v,bilinear)
        texture_get_img_w(*tex)
        texture_get_img_h(*tex)
        texture_has_image(*tex)
      st
        <anon>{color}
        Texture3D
      ty
        Texel
        Texture3D
    snakegame.h
      fn
        snake_game_run(*game)
        snake_game_free(*game)
      st
        SnakeGame
      ty
        SnakeGame
    tty.h
      fn
        tty_close(*ctx)
        tty_put_pixel(*ctx,x,y,px)
        tty_get_pixel(*ctx,x,y)
        tty_flip(*ctx)
        tty_force_redraw(*ctx)
        tty_clear_back(*ctx)
        tty_clear_front(*ctx)
        tty_get_size(*ctx,*width,*height)
        tty_check_resize(*ctx)
        tty_set_resize_callback(*ctx,*callback,*userdata)
        tty_set_size_invalid_callback(*ctx,*callback,*userdata)
        tty_size_valid(*ctx)
        tty_get_min_size(*ctx,*min_width,*min_height)
        tty_get_board_min_size(board_width,board_height,*min_width,*min_height)
        tty_size_sufficient_for_board(term_width,term_height,board_width,board_height)
        tty_simulate_winch(_)
        tty_set_test_size(width,height)
        tty_clear_test_size(_)
      st
        ascii_pixel{pixel,color}
        tty_context
        ascii_pixel
      ty
        tty_context
    types.h
      st
        <anon>{x}
      ty
        SnakePoint
        SnakeDir
        GameStatus
    utils.h
      fn
        snake_rng_seed(*state,seed)
        snake_rng_next_u32(*state)
        snake_rng_range(*state,lo,hi_inclusive)
        snake_in_bounds(x,y,width,height)